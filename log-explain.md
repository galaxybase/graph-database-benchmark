## benchmark Log 说明

在测试过程中，本程序将输出四个 log 文件：

1. `图数据库类型-图名称.log`：测试结果统计输出文件，包含测试的耗时信息和测试发生异常时的错误信息日志；
2. `图数据库类型-图名称.csv`：测试结果统计输出文件，`csv` 格式日志，用于对测试结果进行数据处理；
3. `图数据库类型-图名称-detail.log`：详细测试数据输出，包含了测试中每个测试任务项的测试结果打印，异常信息等，用于检查每个测试任务详细的耗时情况，在测试过程中遇到问题时进行 `DEBUG`。

4. `图数据库类型-图名称-detail.csv`：详细测试数据输出，包含每个测试任务项的测试结果打印，`csv` 格式日志，用于对每个测试任务的测试结果进行数据处理；

   

### 1. 图数据库类型-图名称.log 详细说明

各项测试数据说明：

`minTime`：当前测试项所有测试任务中，耗时最小的测试任务的测试耗时；

`maxTime`：当前测试项所有测试任务中，耗时最小的测试任务的测试耗时；

`AvgTime`：当前测试项所有测试任务测试耗时的平均；

`P99`：当前测试项中所有测试任务的 99 分位值；

`P999`：当前测试项中所有测试任务的 99.9 分位值；

`Throughput`：表示数据库每秒接受请求的数量；

`SuccessNum`：表示成功得到响应的测试任务数量；

`SuccessRate`：表示成功得到响应的测试任务比率；

`ErrorNum`：表示测试中出现错误的测试任务数量；

`ErrorRate`：表示测试中出现错误的测试任务比率；

`TimeoutNum`：表示超时的测试任务数量；

`TimeoutRate`：表示超时的测试任务比率。

* 分位值表示从小到大排序后指定位置的数值，例如 100 个数据，99 分位值就是这 100 个数据从小到大排序中第 99 个数的值。



### 2. 图数据库类型-图名称.csv 详细说明

各项测试数据说明：

`test_time`：进行测试的时间；

`operation_type`：测试项的名称；

`min_time`：当前测试项所有测试任务中，耗时最小的测试任务的测试耗时；

`max_time`：当前测试项所有测试任务中，耗时最小的测试任务的测试耗时；

`avg_time`：当前测试项所有测试任务测试耗时的平均；

`P99`：当前测试项中所有测试任务的99分位值；

`P999`：当前测试项中所有测试任务的99.9分位值；

`throughput`：表示数据库每秒接受请求的数量；

`success_num`：表示成功得到响应的测试任务数量；

`success_rate`：表示成功得到响应的测试任务比率；

`error_num`：表示测试中出现错误的测试任务数量；

`error_rate`：表示测试中出现错误的测试任务比率；

`timeout_num`：表示超时的测试任务数量；

`timeout_rate`：表示测试超时的测试任务比率；

`data`：测试项额外添加的测试结果输出，`K-hop neighbor` 输出平均邻居数。



### 3. 图数据库类型-图名称-detail.log 详细说明

在本测试 `log` 中有三种优先级的日志输出，分别为 `ERROR`、 `DEBUG` 和 `INFO`，其中，`ERROR` 级别表示测试出现异常，打印测试出现的异常信息，`DEBUG` 级别表示测试中每个测试任务详细的测试信息，`INFO` 打印每个测试项的统计信息。

在 `detail.log` 中输出的内容较多，包含一些提示信息，总体大都是每个测试任务的详细测试结果输出，测试任务结果输出日志解读：

- 日志中 `Schedule` 项表示当前测试项的测试进度（一个测试项包含多个测试任务）；

- `Time` 项表示当前测试任务的测试耗时；
- `Sample` 项表示当前测试任务所使用的样本，有多个样本时采用 `,` 分隔；
- `Result` 项表示当前测试项的测试结果输出。

示例：

```
[2020-12-16 10:58:21] [INFO]	-- Start KNeighbor 1 Depth
[2020-12-16 10:58:21] [DEBUG]		1	Schedule: 0.33%	Time: 70ms 334us 174ns	Sample: [652314]	Result ResultCount 71
```

如上：`-- Start KNeighbor 1 Depth` 提示信息表示开始 `KNeighbor 1 Depth` 测试项的测试，紧接着是该测试项第一个测试任务的测试结果输出:

`2020-12-16 10:58:21`：表示进行测试的时间；

`[DEBUG]`：表示日志的打印级别；

`1`：表示当前测试任务的序号，为第1个测试任务；

`Schedule: 0.33%`：表示测试进度，当进度到达 `100%` 表示当前测试项中所有的测试任务全部测试完成；

`Time: 70ms 334us 174ns`：表示测试耗时，当前测试任务耗时 `70ms 334us 174ns`；

`Sample:[652314]`：表示当前测试任务采用的样本数据为 `652314`；

`Result ResultCount 71`：表示测试输出的结果为`ResultCount 71`，当前进行的测试项为 `KNeighbor 1 Depth`，表示测试任务的1度邻居数量为71。



### 4. 图数据库类型-图名称-detail.csv 详细说明

各列测试数据说明：

1. `test_time`：进行测试的时间；
2. `operation_type`：测试项的名称；
3. `serial`：当前测试任务的序号（一个测试项可能包含多个测试任务）；
4. `run_time`：测试耗时；
5. `samples`：当前测试任务所使用的测试样本，如果有多个样本将用 `,` 分隔；
6. `results`：当前测试任务所输出的测试结果。

